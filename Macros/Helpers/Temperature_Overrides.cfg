[gcode_macro M109]
rename_existing: M99109
gcode: 
	
	{% set s = params.S|float %}
	
	M104 {% for p in params %}{'%s%s' % (p, params[p])}{% endfor %}
	{% if s != 0 %}
    	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={s-2} MAXIMUM={s+2}
        STATUS_NOZZLE_STANDBY
	{% endif %}

[gcode_macro M190]
rename_existing: M99190
gcode: 
	
	{% set s = params.S|float %}
	
	M140 {% for p in params %}{'%s%s' % (p, params[p])}{% endfor %}
	{% if s != 0 %}
    	TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM={s-2} MAXIMUM={s+5}
	{% endif %}

[gcode_macro M104]
rename_existing: M99104
gcode:
    {% set s = params.S|float %}

    STATUS_NOZZLE_HEATING
	M99104 {% for p in params %}{'%s%s' % (p, params[p])}{% endfor %}

[gcode_macro M140]
rename_existing: M99140
gcode:
    {% set s = params.S|float %}

	M99140 {% for p in params %}{'%s%s' % (p, params[p])}{% endfor %}